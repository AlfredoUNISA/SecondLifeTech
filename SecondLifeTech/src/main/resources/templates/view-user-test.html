<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" name="color-scheme" content="light dark">
    <title>Profile</title>
    <style>
        table, th, td {
            border: 1px solid wheat;
            border-collapse: collapse;
        }
    </style>
</head>
<body>
<a href="/">‚Üê Back to index</a>
<h1 th:text="'Profile of ' + ${userName}"></h1>
<h2>Shipping addresses</h2>
<table>
    <tr>
        <th>Street</th>
        <th>State</th>
        <th>City</th>
        <th>Country</th>
        <th>Postal code</th>
        <th></th>
    </tr>
    <tr th:each="address : ${shippingAddresses}">
        <td th:text="${address.street}"></td>
        <td th:text="${address.state}"></td>
        <td th:text="${address.city}"></td>
        <td th:text="${address.country}"></td>
        <td th:text="${address.zipCode}"></td>
        <td>
            <form action="/delete-shipping-address-test" method="post">
                <input type="hidden" name="userId" th:value="${user.id}">
                <input type="hidden" name="shippingAddressId" th:value="${address.id}">
                <input type="submit" value="Delete">
            </form>
        </td>
    </tr>
</table>

<form action="/add-shipping-address-test" method="post" th:object="${newShippingAddress}">
    <input type="hidden" name="userId" th:value="${user.id}">
    <label for="street">Street</label>
    <input type="text" id="street" name="street" required th:field="*{street}">
    <label for="state">Address</label>
    <input type="text" id="state" name="state" required th:field="*{state}">
    <label for="city">City</label>
    <input type="text" id="city" name="city" required th:field="*{city}">
    <label for="country">Country</label>
    <input type="text" id="country" name="country" required th:field="*{country}">
    <label for="zipCode">Postal code</label>
    <input type="text" id="zipCode" name="zipCode" required th:field="*{zipCode}">
    <input type="submit" value="Add address">
</form>

<h2>Payment methods</h2>
<table>
    <tr>
        <th>Card holder name</th>
        <th>Card number</th>
        <th>Expiration date</th>
        <th>CVV</th>
        <th></th>
    </tr>
    <tr th:each="paymentMethod : ${paymentMethods}">
        <td th:text="${paymentMethod.cardHolderName}"></td>
        <td th:text="${paymentMethod.cardNumber}"></td>
        <td th:text="${paymentMethod.expirationDate}"></td>
        <td th:text="${paymentMethod.cvv}"></td>
        <td>
            <form action="/delete-payment-method-test" method="post">
                <input type="hidden" name="userId" th:value="${user.id}">
                <input type="hidden" name="paymentMethodId" th:value="${paymentMethod.id}">
                <input type="submit" value="Delete">
            </form>
        </td>
    </tr>
</table>
<form action="/add-payment-method-test" method="post" th:object="${newPaymentMethod}">
    <input type="hidden" name="userId" th:value="${user.id}">
    <label for="cardHolderName">Card holder name</label>
    <input type="text" id="cardHolderName" name="cardHolderName" required th:field="*{cardHolderName}">
    <label for="cardNumber">Card number</label>
    <input type="text" id="cardNumber" name="cardNumber" required th:field="*{cardNumber}">
    <label for="expirationDate">Expiration date</label>
    <input type="text" id="expirationDate" name="expirationDate" required th:field="*{expirationDate}">
    <label for="cvv">CVV</label>
    <input type="text" id="cvv" name="cvv" required th:field="*{cvv}">
    <input type="submit" value="Add payment method">
</form>

</body>
</html>